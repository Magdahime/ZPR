
import os
import platform

system = platform.system()
system = system.lower()
if system == "windows":
    print("Windows!")
    env = Environment()

    env.Append(CPPPATH=['#include',
                        '#lib/SFML-2.5.1-Win/include',
                        '#lib/TGUI-0.9/include',
                        '#lib/webview/include',
                        '#lib/boost/boost_1_74_0',
                        '#lib/openssl/include64'])

    env.Append(LINKFLAGS='/SUBSYSTEM:CONSOLE')

    env.Append(CXXFLAGS='/EHsc /MD /std:c++17')

    env.Append(LIBPATH=['#lib/TGUI-0.9/lib',
                        '#lib/SFML-2.5.1-Win/lib',
                        '#lib/webview/lib',
                        '#lib/boost/boost_1_74_0/stage/lib'
                        ])

    env.Append(LIBS=['sfml-graphics',
                     'sfml-window',
                     'sfml-system',
                     'tgui',
                     'webview',
                     'WebView2Loader.dll'])

    env.Program('../bin/CreatureSIM', Glob('*.cc'))

else:
    print("Linux!")
    env = Environment()
    env.Append(CPPPATH=['#include',
                        '#lib/SFML-2.5.1/include',
                        '#/lib/TGUI-0.9/include',
                        '#lib/websocketpp'])
    env.Append(CXXFLAGS='-Wall -std=c++17')
    VariantDir('#/build', '#/src', duplicate=0)
    resources = Glob("#src/*.cpp")
    env.Program('../bin/CreatureSIM', Glob('*.cc'), LIBS=[
                'sfml-graphics', 'sfml-window', 'sfml-system'], LIBPATH=['#/lib/SFML-2.5.1/lib'])
